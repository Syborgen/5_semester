<HTML>
<HEAD>
<TITLE>Принципы вывода изображений</TITLE>
</HEAD>
<BODY> 

<CENTER>
<H1>Принципы вывода изображений</H1>
<FONT SIZE="3">
</CENTER>

<UL>
 <LI><A HREF="#G">Графический режим</A>
 <LI><A HREF="#T">Текстовый режим</A>
 <LI><A HREF="#O">Обработка видеоизображений</A>

</UL>
<HR SIZE="4">
  Видеосистема PC ориентирована на растровый метод вывода изображения.  
<P><strong>Растровый метод </strong> подразумевает, что некий рисующий инструмент, способный 
оставлять видимый след, сканирует всю поверхность, на которую выводится 
изображение. Траектория движения инструмента постоянна и не зависит от 
выводимого изображения, но инструмент может рисовать, а может и не рисовать 
отдельные точки траектории. Видимым изображением являются оставленные им точки. 
В случае видеомонитора инструментом является модулированный луч (или три луча 
базисных цветов), построчно сканирующий экран и вызывающий свечение люминофора, 
нанесённого на внутреннюю поверхность экрана. Каждая строка растра разбивается 
на некоторое количество точек -<I> пикселов </I> (Pixel - сокращение от Picture 
Element - элемент изображения), засветкой каждой из которых может управлять 
устройство, формирующее изображение (например, графическая карта). Видеомонитор 
является растровым устройством вывода динамически изменяемых изображений. Его 
луч сканирует экран с частотой, которая не должна позволять видеть глазу 
мерцание изображения. Матричные дисплеи, применяемые в блокнотных ПК, также 
относятся к растровым устройствам. Растровыми устройствами вывода статических 
изображений являются принтеры, в которых сканирование листа производится 
однократно (хотя возможны и многократные подходы).<BR>
<P>
 Альтернатива растровым устройствам -<I> векторные устройства вывода изображений</I>. 
В этих устройствах инструмент прорисовывает только изображаемые фигуры  и его 
траектория движения определяется выводимым изображением. Изображение состоит из 
графических примитивов, которыми могут быть отрезки прямых - векторы (откуда и 
название метода вывода), дуги, окружности. К векторным устройствам вывода 
статических изображений относятся перьевые плотеры. Существовали (а может где-то 
используются и сейчас) и векторные мониторы, однако ввиду сложности построения 
системы управления лучом, эта линия быстро угасла.<BR>
<P>
<H2><A NAME="G"></A>Графический режим</H2>
<P>
  В графическом режиме имеется возможность индивидуального управления сечением 
каждой точки экрана монитора независимо от состояния остальных. Этот режим 
обозначают как Gr (Graphics) или APA (All Points Addressable - все точки адресуемы). 
В графическом режиме каждой точке экрана - пикселу - соответствует  ячейка 
специальной памяти, которая сканируется схемами адаптера синхронно с движением 
луча монитора. Точнее было бы сказать наоборот - физически движение луча вторично, 
так как монитор можно и не подключать, а графический адаптер всё равно будет 
сканировать память, но логически вся конструкция строится именно исходя из 
поведения монитора. Это постоянно циклически сканируемая (с кадровой частотой) 
память называется <B><I>видеопамятью</I></B> (Video Memory), или VRAM (Video RAM). 
Процесс постоянного сканирования видеопамяти называется <I>регенерацией 
изображения</I>.   
<P>
<H2><A NAME="T"></A>Текстовый режим</H2>
<P>
В <B><I>символьном</I></B>, или <B><I>текстовом режиме</I></B>, ячейка видеопамяти хранит 
информацию о <I>символе</I>, занимающем на экране знакоместо определённого формата.  
<BR>
<P><strong>Знакоместо</strong> представляет матрицу точек, в которой может быть отображен один 
из символов из определённого набора. В ячейке видеопамяти хранится <I>код символа</I>, 
определяющий вид его отображения. К атрибутам относятся цвет фона, цвет символа, 
инверсия, мигание и подчёркивание символа. Посткольку изначально в дисплеях 
использовали только алфавитно-цифровые символы, такой режим работы иногда 
сокращённо называют AN (Alpha-Numerical - алфавитно-цифровой). Чаще его называют 
TXT, что корректнее: символы псевдографики, которые широко применяются для 
оформления текстовой информации, к алфавитно-цифровым не отнесёшь.<BR> 
<P>
  В текстовом режиме экран организуется в виде матрицы знакомест, образованной 
горизонтальными линиями LIN (Line)  и вертикальными колонками COL (Column). Этой 
матрице соответствует аналогичным образом организованная видеопамять. Адаптер,  
работающий в текстовом режиме, имеет дополнительный блок - знакогенератор. Во 
время сканирования экрана выборка данных из очередной ячейки видеопамяти происходит 
при подходе к соответствующему знакоместу, причём одна и та же ячейка видеопамяти 
будет выбираться при проходе по всем строкам растра, образующим линию знакомест. 
Считанные данные попадают в знакогенератор, который вырабатывает построчную 
развёртку соответствующего символа - его изображение на экране. 
<BR><P>
<B><I>Знакогенератор</I></B> представляет собой запоминающее устройство ОЗУ или 
ПЗУ. 
<P>
<H2><A NAME="O"></A>Обработка видеоизображений</H2>
<P>

<P><strong>Кодек</strong> - это компрессор-декомпрессор видеосигнала. 
<BR><P>
 Для сжатия изображений применяются различные кодеки:  
<BR><P>
<UL>
 <LI TYPE=DISC> <I>JPEG</I>(Joint Photographic Expert Group) - метод сжатия
                неподвижных изображений, основанный на одновременной обработке 
                информации матрицы пикселов (например 8х8) в пространстве Y-U-V 
с приоритетом сохранения яркостной информации. Метод почти универсален: 
он позволяет обеспечивать и максимальную степень сжатия, правда при этом 
информация восстанавливается с некоторыми потерями, и обеспечивать сжатие без 
потерь. Кроме того, возможен послойный прийм изображения, когда сначала приходит 
грубое описание всей картинки, затем следуют постепенные уточнения(утончения) 
деталей. Такая передача представляет ценность в Интернет.
<P>
Степень сжатия зависит от характера изображения - лучше всего снимается 
цветное изображение, несколько хуже - полутоновое серое. Чёрно-белое изображение 
для JPEG должно представляться в полутоновом формате, что снижает эффективность 
его сжатия.<BR>
<P>
 <LI TYPE=DISC> <I>M-JPEG</I> (Motion JPEG) - метод сжатия движущихся 
               изображений. Суть этого метода заключается в том, что каждый кадр 
               обрабатывается как отдельное статическое изображение, то есть 
выполняется только внутрикадровое сжатие. M-JPEG не получил широкого распространения 
из-за больших затрат времени на компрессию и декомпрессию.<BR>
<P>
 <LI TYPE=DISC> <I>DVI</I> (Digital Video Interactive) - система аппаратного 
               сжатия движущихся видеоизображений с коэффициэнтом сжатия до 160:1 
               и записи звукового сопровождения по методу ADPCM.<BR>  
<P>
 <LI TYPE=DISC> <I>Indeo</I> (INtel viDEO) - одноступенчатый кодек на базе набора 
               микросхем i82750, развитие системы DVI. Позволяет воспроизводить 
видеозаписи и с программным декодированием (необходим PC не ниже 486SX-25, SVGA 
256 цветов и звуковая карта с ADPCM для звукового сопровождения). <BR>
 <LI TYPE=DISC> <I>Cinepak</I> - программный кодек для воспроизвения "живого" 
               видео в окне 320х240 пикселов.<A HREF="../literatura.html">[2]</A>
</UL>  
<P>
  Разработкой кодеков, предназначенных для работы (по крайней мере, декомпрессии) 
в реальном масштабе времени, занимается MPEG (Motion Picture Expert Group - группа 
экспертов в области движущихся изображений). Поскольку видео без звука "живым" 
представить трудно, MPEG занимается и аудиокодеками. Кодеки MPEG работают в 
пространстве Y-U-V, причём яркостная информация обрабатывается с большим 
разрешением, чем цветовая. В сжатом потоке данных присутствуют кадры нескольких 
типов:
<P>
<UL>
 <LI TYPE=DISC> I(intra)-фреймы - ключевые кадры, кодирование без ссылок на другие 
                (то есть содержащие полное описание статического изображения).<P>
 <LI TYPE=DISC> P(predicted) - фреймы содержат описание различий текущего кадра 
                с предыдущим.<P>
 <LI TYPE=DISC> B(bi-directional) - фреймы являются двунаправленными: они ссылаются 
                и на кадр вперёд, и на кадр назад.        
</UL>
<P> Наличие двунаправленных кадров подрадразумевает, что должен иметь буфер, то по 
крайней мере, на три принятых кадра, а изображение будет выводится с некоторым 
отставанием от входного потока. Для того, чтобы кодек мог быстро включится в 
работу с любого места потока, I-фреймы должны включаться в поток регулярно 
(в MPEG-1 - не реже, чем через 0,4 с).
<P>
<UL>
 <LI TYPE=DISC> MPEG-1 - стандарт ISO/IEC 11172, принятый в 1992 году. Кодек 
                предназначен для записи и воспроизведения движущихся изображений 
                и связанного с ними аудиосопровождения на цифровом носителе с 
потоком данных до 1,5 Мбит/с. При этом обеспечивается качество изображения на 
уровне кассетного видеомагнитофона VHS (Video Home System) со стереофоническим 
звуковым сопровождением. Исходное изображение - 352х240 пикселов, 30 кадров в 
секунду. В стандарт входит и программная реализация кодера и декодера на языке С. 
Скорость потокаданных позволяет использовать в качестве носителя видеоинформации 
обыкновенный CD-ROM, и  MPEG-1 используется в дисках CD-i.<BR><P>
 <LI TYPE=DISC>  MPEG-2 (ISO/IEC 13818) - кодек для высококачественной передачи 
изображений (720х480 пикселов), аудиоинформации и данных при потоке 2-80 Мбит/с. 
Стандарт предусматривает одновременную передачу множества TV-каналов с возможностью 
шифрования для ограничения доступа к информации. Аудиокодек многоканальный имеет 2 
стереоканала (фронт и тыл), обеспечивающих объёмное звучание (Surround), и один 
низкочастотный с полосой до 100 Гц.<BR> <P>
 <LI TYPE=DISC> MPEG-4 - разрабатываемый стандарт, ориентированный на интерактивное 
использование мультимедиа и сетевых коммуникаций.<BR><P>
</UL>  
  MPEG-плейер - аппаратный декодер MPEG, обеспечивающий воспроизведение с компакт-дисков 
форматов MPEG, CD-I, VideoCD, - является уже широкораспространённым дополнением 
графического адаптера. Обеспечивает высокое качество воспроизведения с невысокой 
загрузкой процессора. <BR><P>
</BODY>
</HTML>