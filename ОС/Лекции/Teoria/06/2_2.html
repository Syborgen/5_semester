<html>
<head>
<TITLE>Планирование процессов</TITLE>
</HEAD>
<BODY>
<CENTER>
<H1>Планирование процессов</H1>
</CENTER>
<font  size="3">
<UL>
 <LI><A HREF="#пп"> Планировщик процессов</A>
 <LI><A HREF="#до"> Дисциплины обслуживания</A>
</UL>
<HR SIZE="4">
<P> 
<H2><A NAME="пп"></A>Планировщик процессов</H2>
<P>
Планировщик процессов (и регулировщик) определяет, какой из процессов, когда и на сколько времени 
получит управление процессором.<BR>
<P> Ими должны выполняться следующие функции:
<DL>
	<DT></DT>
	<DD><B>1. </B>Регистрация информации о состоянии всех процессов (процессы 
могут находится в одном из трёх состояний - выполнение, готовность или ожидание). 
Комопнент, выполняющий эти функции, был назван регулировщиком (Зальцер, 1966).
	<P>
	<DT></DT>
	<DD><B>2. </B>Принятие решения о том, какой из готовых к выполнению процессов 
должен получить управление, какой из имеющихся в системе процессоров ему предоставить 
и на сколько времени. Эти действия производятся <I>планировщиком процессов</I>.
	<P>
	<DT></DT>
	<DD><B>3. </B>Подключение процессора к процессу. При этом необходимо установить 
значения регистров процессора в соответствии с текущим состоянием процесса. Эти действия 
производятся регулировщиком.
	<P>
	<DT></DT>
	<DD><B>4. </B>Отключение процессора от процесса, например, при истечении 
выделенного интервала времени или при переходе процесса в состояние ожидания 
ввода-вывода. При этом должны быть сохранены значения отражающих состояние 
процесса управляющих регистров, что необходимо для последующего его восстановления. 
Эта функция также выполняется регулировщиком.<BR><P>
</DL>
Как только планировщик заданий передал часть находящихся в системе заданий на 
выполнение, планировщик процессов начинает производить микропланирование, т.е. 
динамическое выделение процессорного времени процессам. В литературе планировщика 
процессов иногда называют <I>диспетчером</I> или <I>планировщиком нижнего уровня</I>. 
При мультипрограммировании процесс за один раз обычно не использует более 100 мс 
процессорного времени, так как переходит в состояние ожидания завершения операции 
ввода-вывода или какого-либор другого события.<BR><P>
Планировщик заданий и планировщик процессов могут взаимодействовать между собой. 
Планировщик процессов может принять решение от приостановке или вытеснении процесса, 
которому для продолжения его работы придётся снова пройти через стадию 
микропланирования заданий. Это особенно характерно для систем разделения времени.
<P> 
<H2><A NAME="до"></A>Дисциплины обслуживания</H2>
<P>
Дисциплина обслуживания определяет порядок, в котором процессор обслуживает 
процессы и длительность квантов времени обслуживания для каждого из них. 
Длительность интервала времени, в течение которого процессор обслуживает данный 
процесс, может зависеть от одного из следующих событий или их комбинации:<BR>

<BLOCKQUOTE>
	<P>
Выполнение процесса завершено.<P>
Процесс перешел в состояние ожидания.<P>
Процессор потребовался для обслуживания процесса, имеющего более высокий 
приоритет.<P>
Завершился зараниее выделеный процессу квант времени.<P>
Произощла ошибка.
</BLOCKQUOTE>
<P>
Решение о выборе процесса на обслуживание принимается путём просмотра очереди 
готовых РСВ в соответствии с принятой дисциплиной обслуживания.<BR><P>
Очередь готовых РСВ может быть организована одним из следующих способов:<BR><P>   
<DL>
	<DT></DT>
	<DD><B>1. </B>Всякий раз, когда процесс переводится в состояние 
готовности (из состояний хранения, выполнения или ожидания), его РСВ помещается 
в соответствующую приоритету процесса позицию очереди. Когда процессор 
освобождается, он переключается на обслуживание процесса, стоящего в очереди 
первым.
	<P>
	<DT></DT>
	<DD><B>2. </B>Процессы располагаются в очереди произвольно. Когда 
необходимо выбрать процесс для обслуживания, производится полный просмотр списка.
</DL>
Можно перечислить следующие широко распространённые дисциплины планирования:
<DL>
	<DT></DT>
	<DD><B>1. </B><I>Равномерное циклическое квантование.</I> Длительность 
обслуживания каждого процесса ограничена величиной стандартнога кванта времени, 
равного, например, 100 мс.
	<P>
	<DT></DT>
	<DD><B>2. </B><I>Приоритет по характеру использования предшествующего 
кванта.</I> Если процесс полностью использовал свой предшествующиё квант времени, 
он помещается в конец очереди. Если он использовал тлько половину (вследствие 
блокирования по вводу-выводу), он попадает в середину очереди. Помимо "справедливости", 
эта дисциплина хорошо обслуживает процессы с интенсивным вводом-выводом.
	<P>
        <DT></DT>
	<DD><B>3. </B><I>Вариант равномерного циклического квантования с 
многоуровневой обратной связью.</I> В момент введения нового процесса в систему 
ему выделяется столько квантов, сколько в этот момент существует других 
параллельных процессов. После этого продолжается обычное равномерное квантирование. 
	<P>
	<DT></DT>
	<DD><B>4. </B><I>Принудительный приоритет.</I> Выбирается процесс с наивысшим 
приоритетом из всех готовых. Приоритет назначается, исходя их важности соответствующей 
работы или с учётом дополнительной оплаты (например, задачам, обслуживающим 
ядерный реактор, назначается наивысший приоритет).
	<P>
        <DT></DT>
	<DD><B>5. </B><I>Ограниченное равномерное циклическое квантирование.</I> 
Процессы обслуживаются способом равномерного квантирования некоторое определённое 
число раз, после чего они обслуживаюися только при условии отсутствия в системе 
других процессов.
	<P>
	<DT></DT>
	<DD><B>6. </B><I>Сбалансированная загрузка.</I> Для предотвращения простоя 
внешних устройств предпочтение отдаётся процессам, интенсивно использующих 
ввод-вывод.
	<P>
        <DT></DT>
	<DD><B>7. </B><I>Предпочтительное обслуживание интеррактивных процессов.</I> 
Если при решении задачи осуществляется оперативное взаимодействие с пользователем 
(интеррактивные задачи), обслуживание соответствующего процесса начинается сразу 
после запроса пользователя. с помощью такой дисциплины удаётся обеспечить малое 
время реакици системы.
	<P>
	<DT></DT>
	<DD><B>8. </B><I>Автоматические приоритеты.</I> В некоторых случаях 
ответственность за назначение процессам приоритетов возлагают на саму ОС. 
Например, она сама может повышать приоритеты коротких заданий. В других 
системах производится автоматическое назначение приоритетов так, что достигается 
сбалансированная загрузка оборудования, как в случае совместного выполнения двух 
процессов, один из которых интенсивно использует ввод-вывод (<I>задача с 
преимущественным вводом-выводом</I>), а другой, наоборот, использует, его в 
очень малой степени (<I>задача с преимущественным счётом</I>). Если выполнять 
несколько процессов, имеющих сходные характеристики, близкие к одному из двух 
вышеназванных пределов, может возникнуть ситуация, когда каналы ввода-вывода 
окажутся перегруженными, а процессор будет простаивать или наоборот. Для 
достижения максимальной произволительности система производит назначение 
приоритетов таким образом, что постоянно поддерживается состав смеси процессов, 
гарантирующий сбалансированную загрузку системы. Подобно этому, система может 
увеличивать приоритеты процессов, монопольно владеющих критическими рессурсами 
(например, накопителем на магнитной ленте), благодаря чему ресурсы освобождаются 
для использования другими процессами быстрее. 
</DL>
<P>
</body>
</html>

