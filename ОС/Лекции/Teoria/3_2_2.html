<HTML>
<HEAD>
<TITLE>Способы адресации</TITLE>
<HEAD>
<BODY>
<CENTER>
<H1>Способы адресации</H1>
<FONT SIZE="3">
</CENTER>

<UL>
 <LI><A HREF="#8086">Способы адресации процессоров 8086/8088</A>
 <LI><A HREF="#i486">Способы адресации процессора i486</A>
  <UL>
  <LI> <A HREF="#табл"> Выбор сегментных регистров и относительного адреса</A><BR>
  </UL>
</UL>
<HR SIZE="4">

<CENTER><P>
<H2><A NAME="8086">Способы адресации процессоров 8086/8088</A></H2>
<P>
</CENTER>
  Для обращения к устройствам ввода/вывода процессор имеет отдельные инструкции 
IN и OUT, результатом выполнения которых является формирование шинных сигналов 
IORD#(Input/Output Read) и IOWR#(Input/Output Write)для чтения или записи одного 
или двух байт. Данные при чтении могут помещаться тольо в регистр AL или AX и 
выводятся из этих же регистров. В циклах ввода/вывода используются только 16 
младших бит шины адреса (старшие биты ри этом нулевые), что позволяет адресовать 
до 64байт регистров ввода/вывода. Адрес устройства задайтся либо в команде 
(только младший байт, старший - нулевой), либо берётся из регистра DX (полный 
16-битный адрес). 
<A HREF="literatura.html">[2]</A>
<CENTER><P>
<H2><A NAME="i486"></A>Способы адресации процессора i486</H2>
<P>
</CENTER>
  Микропроцессор i486 реализует сегментную организацию памяти, при которой 
физический адрес ячейки памяти формируется путём сложения базового адреса (БА) 
сегмента и относительного адреса (ОА) ячейки внутри сегмента.<BR>
<P>
 БА определяется содержимым 16-разрядногосегментного регистра и зависит от 
режима работы микропроцессора. Если микропроцессор работает в режиме обработки 
16-разрядныхданных (режим реальных адресов или режим виртуального микропроцессора 
8086), то 20-разрядный БА формируется путём сдвига содержимого сегментного 
регистра на четыре разряда влево. Если микропроцессор работает в режиме 
обработки 32-разрядных данных (защищённый режим), то 32-разрядный БА содержится 
в дескрипторе, вбор которого из таблицы дескрипторов осуществляется с помощью 
селектора - содержимого соответствующего сегментного регистра. <A HREF="literatura.html">[1]</A>
<BR>
<P>
<TABLE BORDER=1
       WEIGTH=40%>
<CAPTION> <a name="табл"> Таблица 1. Выбор сегментных регистров и относительного адреса </a></CAPTION>
    <TR>
     <TH> Тип обращения к памяти </TH>
     <TH> Сегментный регистр </TH>
     <TH> ОА </TH>
    <TR>
     <TD> 1. Выборка команды </TH>
     <TD> CS </TD>                 
     <TD> EIP (IP) </TD> 
    <TR>
     <TD> 2. Обращение к стеку </TD>
     <TD> SS </TD>
     <TD> ESP (SP) </TD>
    <TR>
     <TD> 3. Адресация операнда </TD>
     <TD> DS (CS, SS, ES, FS, GS) </TD>
     <TD> EA </TD>  
    <TR>
     <TD> 4. Адресация элемента строки-источника </TD>
     <TD> DS (CS, SS, ES, FS, GS) </TD>
     <TD> ESI (SI) </TD>  
   <TR>
     <TD> 5. Адресация элемента строки-приёмника </TD>
     <TD> ES </TD>
     <TD> EDI </TD>  
   <TR>
     <TD> 6. Адресация операнда с использованием в качестве базового регистра 
          EBP (BP) или ESP (SP) </TD>
     <TD> SS (CS, DS, ES, FS, GS)</TD>
     <TD> EA</TD>  
</TABLE><BR>      
<font size="2">
<P>
<B> В скобках указаны регистры, содержащие относительный адрес при работе i486 
в режиме обработки 16-рзрядных операндов. </B><BR>
</font>
<P>
  В зависимости от типа обращения к памяти производится выбор сегментного регистра 
и способа определения относительного адреса (табл. 1). Для некоторых способов 
обращения возможны варианты выбора сегментных регистров, которые указаны в табл. 2 
в скобках. Эти варианты могут быть выбраны с помощью префикса замены сегмента 
SEG. В качестве относительного адреса используется содержимое регистров EIP(IP), 
ESP (SP), ESI (I), EDI (DI) или эфективный адрес (EA), который формируется в 
соответствии с заданным способом адресации. <BR>
<P>
  Эффективный адрес операнда (EA) явяется 16- или 32-разрядным и формируется в 
байте адресации MODR/М и содержимого байта SIB (для 32-разрядных адресов). В общем 
случае EA образуется путём арифметического сложения трёх компонентов:<BR>
 - содержимое базового регистра EBP (BP) или EBX(BX);<BR> 
 - содержимое индексного регистра ESI (SI) или EDI (DI);<A HREF="literatura.html">[1]</A>
<BR>
<P>
</BODY>
</HTML>